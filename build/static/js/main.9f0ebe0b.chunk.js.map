{"version":3,"sources":["components/Filter.js","components/InputForm.js","components/Phonenumbers.js","services/contacts.js","components/Notification.js","App.js","index.js"],"names":["Filter","filterString","handleChange","value","onChange","InputForm","handleSubmit","name","number","handleNameChange","handleNumberChange","onSubmit","type","Phonenumbers","persons","handleDeleteContact","map","person","onClick","id","baseUrl","contactService","getAllContacts","axios","get","then","response","data","createContact","newObject","post","deleteContact","contactID","delete","updateContact","put","Notification","notification","className","message","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setFilterString","setNotification","useEffect","initialContacts","notify","setTimeout","personsToShow","filter","p","toLowerCase","startsWith","event","target","preventDefault","existingContact","find","n","window","confirm","changedContact","returnedContact","catch","error","personObject","returnedPerson","concat","console","log","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9f0ebe0b.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ filterString, handleChange }) => {\r\n  return (\r\n    <p>filter shown with <input value={filterString} onChange={handleChange} /></p>\r\n  )\r\n}\r\n\r\nexport default Filter","import React from \"react\";\r\n\r\nconst InputForm = ({\r\n  handleSubmit,\r\n  name,\r\n  number,\r\n  handleNameChange,\r\n  handleNumberChange,\r\n}) => {\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div>\r\n        name: <input value={name} onChange={handleNameChange} />\r\n      </div>\r\n      <div>\r\n        number: <input value={number} onChange={handleNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default InputForm;\r\n","import React from \"react\";\r\n\r\nconst Phonenumbers = ({ persons, handleDeleteContact }) => {\r\n  return (\r\n    <div>\r\n      {persons.map((person) => (\r\n        <div key={person.name}>\r\n          <span>\r\n            {person.name} {person.number}\r\n          </span>{\" \"}\r\n          <button onClick={() => handleDeleteContact(person.id)}>delete</button>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Phonenumbers;\r\n","import axios from \"axios\";\r\n// const baseUrl = \"http://localhost:3001/persons\";\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAllContacts = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst createContact = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst deleteContact = (contactID) => {\r\n  const request = axios.delete(`${baseUrl}/${contactID}`);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst updateContact = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst contactService = {\r\n  getAllContacts,\r\n  createContact,\r\n  deleteContact,\r\n  updateContact,\r\n};\r\n\r\nexport default contactService;\r\n","const Notification = ({ notification }) => {\r\n  if (notification === null) {\r\n    return null;\r\n  }\r\n\r\n  return <div className={notification.type}>{notification.message}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Filter from \"./components/Filter\";\r\nimport InputForm from \"./components/InputForm\";\r\nimport Phonenumbers from \"./components/Phonenumbers\";\r\nimport contactService from \"./services/contacts\";\r\nimport Notification from \"./components/Notification\";\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n  const [filterString, setFilterString] = useState(\"\");\r\n  const [notification, setNotification] = useState(null);\r\n\r\n  useEffect(() => {\r\n    contactService.getAllContacts().then((initialContacts) => {\r\n      setPersons(initialContacts);\r\n    });\r\n  }, []);\r\n\r\n  const notify = (message, type = \"success\") => {\r\n    setNotification({ message, type });\r\n    setTimeout(() => {\r\n      setNotification(null);\r\n    }, 5000);\r\n  };\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value);\r\n  };\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value);\r\n  };\r\n\r\n  const handleFilterStringChange = (event) => {\r\n    setFilterString(event.target.value);\r\n  };\r\n\r\n  const addContact = (event) => {\r\n    event.preventDefault();\r\n\r\n    const existingContact = persons.find((n) => n.name === newName);\r\n\r\n    if (existingContact) {\r\n      const result = window.confirm(\r\n        `${newName} is already added to phonebook, replace the old number with a new one?`\r\n      );\r\n\r\n      if (result) {\r\n        const changedContact = { ...existingContact, number: newNumber };\r\n\r\n        contactService\r\n          .updateContact(existingContact.id, changedContact)\r\n          .then((returnedContact) => {\r\n            setPersons(\r\n              persons.map((person) =>\r\n                person.id !== changedContact.id ? person : returnedContact\r\n              )\r\n            );\r\n            notify(`Updated ${changedContact.name}'s number`);\r\n          })\r\n          .catch((error) => {\r\n            notify(\r\n              `Information of ${changedContact.name} has already been removed from server`\r\n            );\r\n          });\r\n        setNewName(\"\");\r\n        setNewNumber(\"\");\r\n      }\r\n    } else {\r\n      const personObject = {\r\n        name: newName,\r\n        number: newNumber,\r\n      };\r\n\r\n      contactService\r\n        .createContact(personObject)\r\n        .then((returnedPerson) => {\r\n          setPersons(persons.concat(returnedPerson));\r\n          notify(`Added ${returnedPerson.name}`);\r\n        })\r\n        .catch((error) => {\r\n          console.log(error.response.data.error);\r\n          notify(`${error.response.data.error} `, \"error\");\r\n        });\r\n      setNewName(\"\");\r\n      setNewNumber(\"\");\r\n    }\r\n  };\r\n\r\n  const deleteselectedContact = (contactID) => {\r\n    const existingContact = persons.find((n) => n.id === contactID);\r\n\r\n    const result = window.confirm(`Delete ${existingContact.name} ?`);\r\n\r\n    if (result) {\r\n      contactService\r\n        .deleteContact(contactID)\r\n        .then((response) => {\r\n          setPersons(persons.filter((p) => p.id !== contactID));\r\n          notify(`Deleted ${existingContact.name}`);\r\n        })\r\n        .catch((error) => {\r\n          setPersons(persons.filter((p) => p.id !== contactID));\r\n          notify(`${existingContact.name} had already been removed`, \"error\");\r\n        });\r\n    }\r\n  };\r\n\r\n  const personsToShow =\r\n    filterString !== \"\"\r\n      ? persons.filter((p) =>\r\n          p.name.toLowerCase().startsWith(filterString.toLowerCase())\r\n        )\r\n      : persons;\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification notification={notification} />\r\n      <div>\r\n        <Filter\r\n          filterString={filterString}\r\n          handleChange={handleFilterStringChange}\r\n        />\r\n      </div>\r\n      <h2>add a new</h2>\r\n      <InputForm\r\n        handleSubmit={addContact}\r\n        name={newName}\r\n        number={newNumber}\r\n        handleNameChange={handleNameChange}\r\n        handleNumberChange={handleNumberChange}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <Phonenumbers\r\n        persons={personsToShow}\r\n        handleDeleteContact={deleteselectedContact}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}